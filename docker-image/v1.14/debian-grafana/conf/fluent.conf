
# AUTOMATICALLY GENERATED
# DO NOT EDIT THIS FILE DIRECTLY, USE /templates/conf/fluent.conf.erb

@include "#{ENV['FLUENTD_SYSTEMD_CONF'] || 'systemd'}.conf"
@include "#{ENV['FLUENTD_PROMETHEUS_CONF'] || 'prometheus'}.conf"
@include kubernetes.conf
@include conf.d/*.conf

<match **>
  @type loki
  @id out_loki

  url "#{ENV['FLUENT_LOKI_URL']}"
	username "#{ENV['FLUENT_LOKI_USERNAME']}"
	password "#{ENV['FLUENT_LOKI_PASSWORD']}"
	extra_labels "#{ENV['FLUENT_LOKI_EXTRA_LABELS'] || '{"agent":"fluentd","job":"syslog"}'}"
	flush_interval "#{ENV['FLUENT_LOKI_FLUSH_INTERVAL'] || '10s'}"
	flush_at_shutdown "#{ENV['FLUENT_LOKI_FLUSH_AT_SHUTDOWN'] || true}"
	buffer_chunk_limit "#{ENV['FLUENT_LOKI_BUFFER_CHUNK_LIMIT'] || '1m'}"
</match>
